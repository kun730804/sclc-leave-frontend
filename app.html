
<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8" />
<title>月曆</title>
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"></script>
</head>
<body>
<h2>公司月曆</h2>
<div id="calendar"></div>
<script src="./api.js"></script>
<script>
document.addEventListener('DOMContentLoaded', async () => {
  const cal = new FullCalendar.Calendar(document.getElementById('calendar'), {
    initialView: 'dayGridMonth',
    events: async (info, success, fail) => {
      try{
        const data = await apiGetEvents(info.startStr, info.endStr);
        success(data.items || []);
      }catch(e){ fail(e); }
    },
    eventClick: (info)=>{
      alert(info.event.title + "\n" + info.event.start);
    }
  });
  cal.render();
});
</script>
</body>
</html>
